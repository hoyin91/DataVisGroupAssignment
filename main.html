<!DOCTYPE html>
<html lang="en">
<title>CDS505 - Visualizing and Exploring Double Glazing Window</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="slick//slick.css">
<link rel="stylesheet" href="slick/slick-theme.css">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="css/custom.css">
<link rel="stylesheet" href="css/bootstrap-grid.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
    body {
        font-family: "Lato", sans-serif
    }

    .mySlides {
        display: none
    }
</style>

<body>
    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="slick/slick.js"></script>

    <!-- Navbar -->
    <div class="w3-top">
        <div class="w3-bar w3-black w3-card">
            <a class="w3-bar-item w3-button w3-padding-large w3-hide-medium w3-hide-large w3-right" href="javascript:void(0)"
                onclick="myFunction()" title="Toggle Navigation Menu"><i class="fa fa-bars"></i></a>
            <a href="#" class="w3-bar-item w3-button w3-padding-large">Home</a>
            <a href="#temperature" class="w3-bar-item w3-button w3-padding-large w3-hide-small">Temperature</a>
            <a href="#pressure" class="w3-bar-item w3-button w3-padding-large w3-hide-small">Pressure</a>
            <a href="#Velocity" class="w3-bar-item w3-button w3-padding-large w3-hide-small">Air Flow</a>
            <a href="#airflow_streamline" class="w3-bar-item w3-button w3-padding-large w3-hide-small">Streamline</a>
            <a href="#discussion" class="w3-bar-item w3-button w3-padding-large w3-hide-small">Discussion</a>
            <!--<div class="w3-dropdown-hover w3-hide-small">
                <button class="w3-padding-large w3-button" title="More">Combination <i class="fa fa-caret-down"></i></button>
                <div class="w3-dropdown-content w3-bar-block w3-card-4">
                    <a href="#temperature-pressure" class="w3-bar-item w3-button">Temperature/Pressure</a>
                    <a href="#temperature-airflow" class="w3-bar-item w3-button">Temperature/Air Flow</a>
                    <a href="#pressure-airflow" class="w3-bar-item w3-button">Pressure/Air Flow</a>
                </div>
            </div-->
            <a href="javascript:void(0)" class="w3-padding-large w3-hover-red w3-hide-small w3-right"><i class="fa fa-search"></i></a>
        </div>
    </div>
    <!-- Page content -->
    <div class="w3-content" style="max-width:2000px;margin-top:46px">
        <div class="w3-container w3-content w3-center w3-padding-64" style="max-width:1000px" id="home">
            <h2 class="w3-opacity">Visualizing and Exploring Double Glazing Window</h2>
            <p class="w3-justify">An engineer is studying the behaviour of air flow between two plates
                where one plate is cold and the other is warm. This is the situation which could be
                encountered with double glazing where the hot and cold plates are actually the two panes
                of glass which trap the air inside. The figure below shows the two plates with the
                temperature at the hot plate being one and the temperature at the cold plate being zero.
                At either end of the closed system the temperature is held to constantly form a linear
                temperature variation between the two plates. The experiment eventually reaches a steady
                state and a symmetry plane exists in the middle. This is shown in the figure below:,</p>
            <img src="page/home/dglazing-fig.png" style="width:50%">
        </div>

        <!-- The TEmperature Section -->
        <div class="blue" id="temperature">
            <div class="w3-container w3-content w3-center w3-padding-64" style="max-width:1000px" id="band">
                <h2 class="w3-wide">Temperature distribution</h2>
                <p class="w3-opacity" class="w3-round">Exploring the Temperature Distribution</p>
                <p class="w3-justify">
                    Hot plate and Cold plate visualize <br />
                    <b>Surface : </b><br />
                    - Animation slide across x,z,z axis to show the temperature change across the axis<br />
                    - x-axis : When slide across x axis, there are 2 observation. First, the upper cavity
                    had higher temperature compare to lower cavity. Second, the outer layer cool down faster
                    compare to the inner part <br />
                    - y-axis : When slide across y axis, observe that the temperature distribution at y=0 and y=17 is
                    the same.
                    The lower temperature found at range 0 to 8.5. Higher temperature found at range 8.5 to 17. <br />
                    - z-axis : At z=0 the temperature distribution at the top and bottom cavity is the same,
                    and the temperature across the x-axis gradually decrease. When slide across the z-axis, the upper
                    area of the plane
                    increase in temperature and the lower area of the plane decrease in temperature. <br />
                    <br />
                    <b>Isosurface : </b><br />
                    - Surface that represent points of constant value within a volume of space <br />
                    - Varying the isovalue able to visualize the temperature <br />
                    - Isovalue near to 1 is the hot side, 0.5 is warm and near to 0 is cold side. <br />
                    - Animation vary the isovalue from 1 to 0 to indicate how the temperature vary from hot side to
                    cold
                    side. <br />
                    - Color represent the temperature. <br />
                </p>
                <div class="row">
                    <div class="col-sm">
                        Surface X:
                        <img src="page/temperature/slide_x1.png" alt="slidex" style="width:100%" onclick="initSlick(this, 1, 'temperatureImgContainer', addAnimation('page/temperature/slicex_animation.mp4'));">
                    </div>
                    <div class="col-sm">
                        Surface Y:
                        <img src="page/temperature/slide_y1.png" alt="slidey" style="width:100%" onclick="initSlick(this, 1, 'temperatureImgContainer', addAnimation('page/temperature/slicey_animation.mp4'));">
                    </div>
                    <div class="col-sm">
                        Surface Z:
                        <img src="page/temperature/slide_z1.png" alt="streamline4" style="width:100%" onclick="initSlick(this, 3, 'temperatureImgContainer', addAnimation('page/temperature/slicez_animation.mp4'));">
                    </div>
                    <div class="col-sm">
                        Volume:
                        <img src="page/temperature/temp_volume1.png" alt="temp2" style="width:100%" onclick="initSlick(this, 1, 'temperatureImgContainer', '');">
                    </div>
                    <div class="col-sm">
                        Isosurface:
                        <img src="page/temperature/isosurface1.png" alt="isosurface" style="width:100%" onclick="initSlick(this, 5, 'temperatureImgContainer', addAnimation('page/temperature/isosurface_animation.mp4'));">
                    </div>

                </div>
                <div class="container">
                    <span onclick="this.parentElement.style.display='none'" class="closebtn">&times;</span>
                    <img id="expandTemperature" style="width:100%">
                    <div id="temperatureImgContainer"></div>
                </div>
            </div>

        </div>
    </div>
    <div class="light-blue" id="Pressure">
        <div class="w3-container w3-content w3-padding-64" style="max-width:1000px">
            <h2 class="w3-wide w3-center">Pressure visualization</h2>
            <p class="w3-opacity w3-center">Visualize using Paraview Slice</p>
            <p class="w3-justify">
                - Visualize the pressure using slice. <br />
                - The slice indicate the pressure. <br />
                - Color of the slice indicate the pressure <br />
                - Use 3D isosurface to find out which region has the low and high pressure. <br/>
                - Isosurface animation vary the isovalue from -0.19 to 0.36, to visualize region from low pressure to high pressure<br/>
                
            </p>
            <div class="row">
                <div class="col-sm">
                    Temperature with relation to Pressure
                    <img src="page/pressure/pressureslice_temp_1.png" alt="pressure_temp" style="width:100%" onclick="initSlick(this, 1, 'PressureImgContainer', addAnimation('page/pressure/pressureNtemp.mp4'));">
                </div>
                <div class="col-sm">
                    Pressure with relation to Velocity Glyph and Temperature
                    <img src="page/pressure/tempslice_pressure_velocityglyph_1.png" alt="pressure_velo" style="width:100%"
                        onclick="initSlick(this, 1, 'PressureImgContainer', addAnimation('page/pressure/pressureNvelocity.mp4'));">
                </div>
                <div class="col-sm">
                    Isosurface
                    <img src="page/pressure/pressure_isosurface_1.png" alt="pressure_velo" style="width:100%"
                        onclick="initSlick(this, 1, 'PressureImgContainer', addAnimation('page/pressure/pressure_isosurfce.mp4'));">
                </div>
            </div>
            <div class="container">
                <span onclick="this.parentElement.style.display='none'" class="closebtn">&times;</span>
                <img id="expandPressure" style="width:100%">
                <div id="PressureImgContainer"></div>
            </div>
        </div>
    </div>

    <!-- The Contact Section -->
    <div class="blue" id="Velocity">
        <div class="w3-container w3-content w3-padding-64" style="max-width:1000px">
            <h2 class="w3-wide w3-center">Air Flow</h2>
            <p class="w3-opacity w3-center">Air flow visualization</p>
            <p class="w3-justify">
                Observation: <br />
                - In this assignment, we tried to combinate 2 different data vis method in order to visualize on the
                flow of the velocity.
                At first, we use glyph to indicate on the flow of the velocity. The magnitude of the velocity is
                indicated by the size and length of the arrow. As the size gets bigger, then velocity gets greater as
                well. However, it is not easy to look at the glyph as there are many point of arrow and it looks very
                messy. As Tufte's 3rd principles mentioned, the overly added 3D glyph is actually making it looks
                worse. Therefore, we reduced the sample point to 800 instead of 2000. This has greatly enhance on the
                visibility as the arrow are more distinct and easily observed. However, we are trying to use a slice
                for which taking input of magnitude with respect to the velocity. This slice of plane which slicing
                from Z-plane helps to cover up on the loss of the magnitude as we have reduced the data pointin earlier
                (3D Glyph). Combination of these two vis methods help us to better understand on the magnitude of the
                velocity.
            </p>
            <div class="row">
                <div class="col-sm">
                    <img src="page/velocity/air_flow_1.png" alt="velo1" style="width:100%" onclick="initSlick(this, 1, 'VelocityImgContainer', '');">
                </div>
                <div class="col-sm">
                    <img src="page/velocity/air_flow_1.png" alt="velo1" style="width:100%" onclick="initSlick(this, 1, 'VelocityImgContainer', addAnimation('page/velocity/velocityNglyph.mp4'));">
                </div>
            </div>
            <div class="container">
                <span onclick="this.parentElement.style.display='none'" class="closebtn">&times;</span>
                <img id="expandVelocity" style="width:100%">
                <div id="VelocityImgContainer"></div>
            </div>
        </div>
    </div>

    <div class="light-blue" id="airflow_streamline">
        <div class="w3-container w3-content w3-padding-64" style="max-width:1000px">
            <h2 class="w3-wide w3-center">Air Flow streamline visualization</h2>
            <p class="w3-opacity w3-center">Visualize using Paraview Streamtracer</p>
            <p class="w3-justify">
                - Visualize the air flow using streamlines. <br />
                - The slice indicate the temperature. <br />
                - Arrow show the direction of the airflow <br />
                - Size of arrow indicate the magnitude of the velocity <br />
                - Uses two seed type to visualize the streamline, Point source and high resolution line. <br />
                - <b>Point source</b>, seed at the middle of the data domain, visualize the airflow at the center. <br />
                - <b>High resolution line</b>, visualize the streamline from the start point to end point to the line
                <br />
            </p>
            <div class="row">
                <div class="col-sm">
                    Seed type: Point Source
                    <img src="page/airflow_streamline/streamlinespoint1.png" alt="Point Source" style="width:100%"
                        onclick="initSlick(this, 8, 'streamlineImgContainer', addAnimation('page/airflow_streamline/streamline_animation.mp4'));">
                </div>
                <div class="col-sm">
                    Seed Type: High Resolution Line
                    <img src="page/airflow_streamline/streamlines1.png" alt="High resolution line source" style="width:100%"
                        onclick="initSlick(this, 2, 'streamlineImgContainer');">
                </div>
                <div class="col-sm">
                    Air flow:
                    <img src="page/airflow_streamline/airflow_1.png" alt="streamline3" style="width:100%" onclick="initSlick(this, 5, 'streamlineImgContainer');">
                </div>
            </div>
            <div class="container">
                <span onclick="this.parentElement.style.display='none'" class="closebtn">&times;</span>
                <img id="expandStreamline" style="width:100%">
                <div id="streamlineImgContainer">
                </div>
            </div>
        </div>
    </div>

    <div class="" id="discussion">
        <div class="w3-container w3-content w3-padding-64" style="max-width:1000px">
            <h2 class="w3-wide w3-center">Disussion</h2>
            <!--<p class="w3-opacity w3-center">How temperature </p> -->
            <p class="w3-justify">
                This visualization design objective is to find out <br/>
                - How the <a href="#temperature">temperature distribution</a> in a double glazing glass? <br/>
                - How <a href="#Pressure">pressure</a> vary in a double glazing glass ? <br/>
                - Pattern of <a href="#Velocity">airflow</a> <br />
                - Relationship between <a href="#Velocity">airflow and temperature</a> <br/>
                - Airflow <a href="#airflow_streamline">streamlime</a><br/><br/>

                Pressure and temperature is scalar and quantitative value, thus can direct represent it 
                using color. For velocity data, it is a vector and quantitative value, in order to represent the direction
                of the airflow, glyph arrow is being used to display it. Other than that, magnitude of velocity is being derived from
                the vector value using formula (magnitude = sqrt(x^2 + y^2 + z^2)) <br/>





                <br/><br/>
                <b>What advantages/disadvantages did you find when trying to use Paraview or OpenDX to visualise the
                    data ?</b><br />
                The visualization tool use in this report is Paraview, the advantage of this tools compare to OpenDX is
                still under development
                where OpenDX is no longer under development. This disadvantage of Paraview is we need to manually
                convert the .dat file to become .vtk file.
                File: <br />
                <a href="temperature.vtk" download>Temperature.vtk</a><br />
                <a href="pressure.vtk" download>Pressure.vtk</a><br />
                <a href="velocity.vtk" download>Velocity.vtk</a><br />
            </p>
        </div>
    </div>

    <!-- End Page Content -->
    </div>
    <!-- Footer -->
    <footer class="w3-container w3-padding-64 w3-center w3-opacity w3-light-grey w3-xlarge">
        <p class="w3-medium">CDS505 Assignment 2: Visualizing and Exploring Double Glazing Window</p>
    </footer>

    <script>
        // Used to toggle the menu on small screens when clicking on the menu button
        function myFunction() {
            var x = document.getElementById("navDemo");
            if (x.className.indexOf("w3-show") == -1) {
                x.className += " w3-show";
            } else {
                x.className = x.className.replace(" w3-show", "");
            }
        }

        function addAnimation(src) {
            html = ''
            html += '<div>'
            html += '<video style="width:100%;" controls>' + '<source src="' + src + '">' + '</video>'
            html += '</div>'
            //console.log(html);
            return html
        }

        function expandImage(imgs, expandArea) {
            var expandImg = document.getElementById(expandArea);
            //var imgText = document.getElementById("imgtext");
            expandImg.src = imgs.src;
            //imgText.innerHTML = imgs.alt;
            expandImg.parentElement.style.display = "block";
        }

        function initSlick(img, numImage, containerId, animation) {
            var container = document.getElementById(containerId);
            if ($('#' + containerId).hasClass('slick-initialized')) {
                $('#' + containerId).slick('unslick');
                container.innerHTML = "";
            }
            container.parentElement.style.display = "block";
            var imageSource = img.src;
            for (i = 1; i <= numImage; i++) {
                console.log(i);
                imageSource = imageSource.replaceAt(imageSource.length - 5, String(i));
                //console.log(imageSource);
                container.innerHTML += '<div><img src="' + imageSource + '" style="width:100%"></div>'
                console.log(imageSource);
            }
            if (animation != '')
                container.innerHTML += animation;
            $('#' + containerId).slick({
                adaptiveHeight: true,
                dots: true
            });
        }

        // When the user clicks anywhere outside of the modal, close it
        var modal = document.getElementById('ticketModal');
        window.onclick = function (event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }

        function initImgSlide(sliderId, numImage) {
            var slider = document.getElementById(sliderId);
            console.log(sliderId);
            slider.value = 1;
            slider.min = 1;
            slider.max = numImage;
        }

        function imgSlide(slider, imgId) {
            var img = document.getElementById(imgId);
            img.src = img.src.replaceAt(img.src.length - 5, slider.value);
            console.log(img.src);
        }

        String.prototype.replaceAt = function (index, replacement) {
            return this.substr(0, index) + replacement + this.substr(index + replacement.length);
        }
    </script>

</body>

</html>